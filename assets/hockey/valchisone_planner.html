<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>HP Val Chisone ‚Äì Calendario Maschile 2025/2026</title>
<style>
* { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: 'Segoe UI', sans-serif; background: #f0f4f8; color: #1a202c; }

header { background: linear-gradient(135deg, #1a365d, #2b6cb0); color: white; padding: 24px 32px; }
header h1 { font-size: 1.5rem; font-weight: 700; }
header p { font-size: 0.85rem; opacity: 0.75; margin-top: 4px; }

.legend {
  display: flex; gap: 12px; padding: 14px 32px; background: white;
  border-bottom: 1px solid #e2e8f0; flex-wrap: wrap; align-items: center;
}
.legend-label { font-size: 0.8rem; font-weight: 600; color: #4a5568; margin-right: 4px; }
.badge {
  display: inline-flex; align-items: center; gap: 5px;
  padding: 3px 10px; border-radius: 20px; font-size: 0.75rem; font-weight: 600;
}
.badge::before { content: ''; width: 8px; height: 8px; border-radius: 50%; display: inline-block; }
.jm { color: #2b6cb0; background: #ebf8ff; } .jm::before { background: #2b6cb0; }
.rm { color: #276749; background: #f0fff4; } .rm::before { background: #276749; }
.am { color: #975a16; background: #fffff0; } .am::before { background: #975a16; }
.warn-badge { color: #c53030; background: #fff5f5; } .warn-badge::before { background: #c53030; }

.container { padding: 24px 32px; max-width: 900px; }

.stats {
  display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 14px; margin-bottom: 24px;
}
.stat-card {
  background: white; border-radius: 10px; padding: 16px 12px;
  text-align: center; box-shadow: 0 1px 3px rgba(0,0,0,0.07);
}
.stat-num { font-size: 1.9rem; font-weight: 800; color: #2b6cb0; }
.stat-num.red { color: #e53e3e; }
.stat-label { font-size: 0.75rem; color: #718096; margin-top: 3px; }

.tbd-box {
  background: #fffbeb; border: 2px solid #f6e05e;
  border-radius: 10px; padding: 16px 20px; margin-bottom: 24px;
}
.tbd-box h3 { color: #b7791f; font-size: 0.95rem; margin-bottom: 10px; }
.tbd-row {
  display: flex; align-items: center; gap: 10px; padding: 8px 12px;
  background: white; border-radius: 7px; border: 1px solid #f6e05e;
  font-size: 0.85rem; margin-bottom: 6px; flex-wrap: wrap;
}

.conflict-box {
  background: #fff5f5; border: 2px solid #fc8181;
  border-radius: 10px; padding: 16px 20px; margin-bottom: 24px;
}
.conflict-box h3 { color: #c53030; font-size: 0.95rem; margin-bottom: 8px; }
.conflict-box ul { padding-left: 18px; color: #742a2a; font-size: 0.85rem; line-height: 1.9; }

.month-label {
  font-size: 0.95rem; font-weight: 700; color: #2d3748;
  padding: 8px 0; border-bottom: 2px solid #cbd5e0;
  margin-bottom: 12px; text-transform: uppercase; letter-spacing: 0.06em;
}
.month-group { margin-bottom: 28px; }

.day-block {
  background: white; border-radius: 10px; padding: 14px 16px;
  margin-bottom: 10px; border-left: 4px solid #e2e8f0;
  box-shadow: 0 1px 3px rgba(0,0,0,0.06);
}
.day-block.conflict { border-left-color: #e53e3e; background: #fffafa; }

.day-header { display: flex; align-items: center; gap: 8px; margin-bottom: 10px; flex-wrap: wrap; }
.day-date { font-weight: 700; font-size: 0.95rem; color: #2d3748; min-width: 160px; }
.conflict-tag {
  background: #e53e3e; color: white; font-size: 0.68rem;
  font-weight: 700; padding: 2px 8px; border-radius: 20px;
}
.location-tag {
  background: #edf2f7; color: #4a5568; font-size: 0.68rem;
  font-weight: 600; padding: 2px 8px; border-radius: 20px;
}

.match-row {
  display: flex; align-items: center; gap: 10px;
  padding: 7px 10px; border-radius: 7px; font-size: 0.85rem; margin-bottom: 5px;
  flex-wrap: wrap;
}
.match-row:last-child { margin-bottom: 0; }
.match-row.home { background: #ebf8ff; border: 1px solid #bee3f8; }
.match-row.away { background: #f7fafc; border: 1px solid #e2e8f0; }
.match-cat { min-width: 85px; }
.match-teams { flex: 1; min-width: 180px; }
.match-teams b { font-weight: 700; }
.vs { color: #a0aec0; }
.match-time { font-size: 0.72rem; color: #718096; font-style: italic; }
.type-pill {
  font-size: 0.68rem; font-weight: 700; padding: 2px 7px; border-radius: 4px;
}
.type-home { background: #bee3f8; color: #2c5282; }
.type-away { background: #e2e8f0; color: #4a5568; }
</style>
</head>
<body>

<header>
  <h1>üèí HP Val Chisone ‚Äì Calendario Maschile 2025/2026</h1>
  <p>Bozza campionati FIH ‚Äì Area 1 Piemonte &nbsp;|&nbsp; Rev. 26 Febbraio 2026</p>
</header>

<div class="legend">
  <span class="legend-label">Categorie:</span>
  <span class="badge jm">Juniores M (U20)</span>
  <span class="badge rm">Ragazzi M</span>
  <span class="badge am">Allievi M</span>
  <span class="badge warn-badge">‚ö† Sovrapposizione</span>
</div>

<div class="container">
  <div class="stats">
    <div class="stat-card"><div class="stat-num" id="s-tot">‚Äì</div><div class="stat-label">Partite da giocare</div></div>
    <div class="stat-card"><div class="stat-num" id="s-days">‚Äì</div><div class="stat-label">Giorni di gara</div></div>
    <div class="stat-card"><div class="stat-num red" id="s-conf">‚Äì</div><div class="stat-label">Sovrapposizioni</div></div>
    <div class="stat-card"><div class="stat-num" id="s-home">‚Äì</div><div class="stat-label">Partite in casa</div></div>
    <div class="stat-card"><div class="stat-num" id="s-tbd">‚Äì</div><div class="stat-label">Date da definire</div></div>
  </div>

  <div id="tbd-section"></div>
  <div id="conflict-section"></div>
  <div id="timeline"></div>
</div>

<script>
var matches = [
  // JUNIORES M (rev. 26/02/2026) - invariato rispetto a rev. 24/02
  { date: 'TBD',        cat: 'Juniores M', home: 'USD MONCALVESE',       away: 'HP VALCHISONE',        loc: '',                  time: '',      note: 'Recupero andata - urgente' },
  { date: '2026-03-22', cat: 'Juniores M', home: 'HP VALCHISONE',        away: 'SC. H. INDER SINGH',   loc: '',                  time: '13:00' },
  { date: '2026-04-19', cat: 'Juniores M', home: 'HP VALCHISONE',        away: 'RASSEMBLEMENT',        loc: '',                  time: '13:00' },
  { date: '2026-04-26', cat: 'Juniores M', home: 'HP VALCHISONE',        away: 'USD MONCALVESE',       loc: '',                  time: '' },
  { date: '2026-05-03', cat: 'Juniores M', home: 'HP VALCHISONE',        away: 'CERNUSCO FIELD',       loc: '',                  time: '' },
  // RAGAZZI M (rev. 26/02/2026)
  { date: '2026-03-08', cat: 'Ragazzi M',  home: 'CERNUSCO FIELD',       away: 'HP VALCHISONE',        loc: '',                  time: '15:00' },
  { date: '2026-03-14', cat: 'Ragazzi M',  home: 'SHP BONOMI',           away: 'HP VALCHISONE',        loc: '',                  time: '' },
  { date: 'TBD',        cat: 'Ragazzi M',  home: 'RASSEMBLEMENT A',      away: 'HP VALCHISONE',        loc: 'Torino',            time: '',      note: 'Urgente' },
  { date: 'TBD',        cat: 'Ragazzi M',  home: 'RASSEMBLEMENT RIS.',   away: 'HP VALCHISONE',        loc: 'Torino',            time: '',      note: 'Urgente' },
  { date: '2026-03-22', cat: 'Ragazzi M',  home: 'HP VALCHISONE',        away: 'SHP BONOMI',           loc: '',                  time: '' },
  { date: '2026-03-27', cat: 'Ragazzi M',  home: 'SC. H. INDER SINGH',   away: 'HP VALCHISONE',        loc: '',                  time: '' },
  { date: '2026-04-26', cat: 'Ragazzi M',  home: 'HP VALCHISONE',        away: 'RASSEMBLEMENT A',      loc: 'Torino',            time: '' },
  { date: '2026-04-26', cat: 'Ragazzi M',  home: 'HP VALCHISONE',        away: 'RASSEMBLEMENT RIS.',   loc: 'Torino',            time: '' },
  { date: '2026-05-03', cat: 'Ragazzi M',  home: 'HP VALCHISONE',        away: 'CERNUSCO FIELD',       loc: '',                  time: '' },
  { date: '2026-05-17', cat: 'Ragazzi M',  home: 'HP VALCHISONE',        away: 'SC. H. INDER SINGH',   loc: '',                  time: '' },
  // ALLIEVI M (rev. 26/02/2026)
  { date: '2026-03-22', cat: 'Allievi M',  home: 'SC. H. I. SINGH N.G.', away: 'HP VALCHISONE',        loc: 'Villar Perosa',     time: '' },
  { date: '2026-03-22', cat: 'Allievi M',  home: 'SC. H. I. SINGH',      away: 'HP VALCHISONE',        loc: 'Villar Perosa',     time: '' },
  { date: '2026-03-22', cat: 'Allievi M',  home: 'HP VALCHISONE',        away: 'RASSEMBLEMENT',        loc: 'Villar Perosa',     time: '10:00' },
  { date: '2026-03-29', cat: 'Allievi M',  home: 'HP VALCHISONE',        away: 'CERNUSCO FIELD',       loc: 'Cernusco',          time: '' },
  { date: '2026-03-29', cat: 'Allievi M',  home: 'SHP BONOMI',           away: 'HP VALCHISONE',        loc: 'Cernusco',          time: '' },
  { date: '2026-04-12', cat: 'Allievi M',  home: 'SCUOLA HOCKEY',        away: 'HP VALCHISONE',        loc: 'Villar Perosa',     time: '' },
  { date: '2026-04-12', cat: 'Allievi M',  home: 'HP VALCHISONE',        away: 'SC. H. I. SINGH N.G.', loc: 'Villar Perosa',     time: '' },
  { date: '2026-05-10', cat: 'Allievi M',  home: 'HP VALCHISONE',        away: 'RASSEMBLEMENT',        loc: 'Villar Perosa',     time: '' },
  { date: '2026-05-24', cat: 'Allievi M',  home: 'RASSEMBLEMENT',        away: 'HP VALCHISONE',        loc: "Castello d'Agogna", time: '' },
  { date: '2026-05-24', cat: 'Allievi M',  home: 'CERNUSCO FIELD',       away: 'HP VALCHISONE',        loc: "Castello d'Agogna", time: '' },
  { date: '2026-05-24', cat: 'Allievi M',  home: 'HP VALCHISONE',        away: 'SHP BONOMI',           loc: "Castello d'Agogna", time: '' }
];

var CAT = { 'Juniores M': 'jm', 'Ragazzi M': 'rm', 'Allievi M': 'am' };

function fmtDate(s) {
  var d = new Date(s + 'T12:00:00');
  var gg = ['Dom','Lun','Mar','Mer','Gio','Ven','Sab'];
  var mm = ['Gen','Feb','Mar','Apr','Mag','Giu','Lug','Ago','Set','Ott','Nov','Dic'];
  return gg[d.getDay()] + ' ' + d.getDate() + ' ' + mm[d.getMonth()] + ' ' + d.getFullYear();
}
function fmtMonth(s) {
  var d = new Date(s + 'T12:00:00');
  var mm = ['Gennaio','Febbraio','Marzo','Aprile','Maggio','Giugno','Luglio','Agosto','Settembre','Ottobre','Novembre','Dicembre'];
  return mm[d.getMonth()] + ' ' + d.getFullYear();
}

var today = new Date().toISOString().split('T')[0];
var tbdMatches = matches.filter(function(m){ return m.date === 'TBD'; });
var scheduled  = matches.filter(function(m){ return m.date !== 'TBD' && m.date >= today; });

var byDate = {};
scheduled.forEach(function(m) {
  if (!byDate[m.date]) byDate[m.date] = [];
  byDate[m.date].push(m);
});
var sortedDates = Object.keys(byDate).sort();

function getConflicts(date) {
  var cats = [];
  byDate[date].forEach(function(m){ if (cats.indexOf(m.cat) === -1) cats.push(m.cat); });
  return cats.length > 1 ? cats : [];
}
var conflictDates = sortedDates.filter(function(d){ return getConflicts(d).length > 0; });

document.getElementById('s-tot').textContent  = scheduled.length;
document.getElementById('s-days').textContent = sortedDates.length;
document.getElementById('s-conf').textContent = conflictDates.length;
document.getElementById('s-home').textContent = scheduled.filter(function(m){ return m.home === 'HP VALCHISONE'; }).length;
document.getElementById('s-tbd').textContent  = tbdMatches.length;

// TBD
var tbdSec = document.getElementById('tbd-section');
if (tbdMatches.length > 0) {
  var box = document.createElement('div');
  box.className = 'tbd-box';
  var h3 = document.createElement('h3');
  h3.textContent = '\uD83D\uDCCB ' + tbdMatches.length + ' gare con data ancora da definire';
  box.appendChild(h3);
  tbdMatches.forEach(function(m) {
    var row = document.createElement('div');
    row.className = 'tbd-row';
    var isHome = m.home === 'HP VALCHISONE';
    row.innerHTML =
      '<span class="badge ' + CAT[m.cat] + '">' + m.cat + '</span>' +
      '<span class="match-teams"><b>' + m.home + '</b><span class="vs"> vs </span><b>' + m.away + '</b></span>' +
      (m.loc ? '<span style="font-size:0.72rem;color:#718096;">\uD83D\uDCCD ' + m.loc + '</span>' : '') +
      '<span style="font-size:0.72rem;color:#b7791f;font-weight:600;">\u26A0\uFE0F ' + (m.note || '') + '</span>' +
      '<span class="type-pill ' + (isHome ? 'type-home' : 'type-away') + '">' + (isHome ? '\uD83C\uDFE0 Casa' : '\u2708\uFE0F Trasferta') + '</span>';
    box.appendChild(row);
  });
  tbdSec.appendChild(box);
}

// CONFLITTI
var confSec = document.getElementById('conflict-section');
if (conflictDates.length > 0) {
  var cbox = document.createElement('div');
  cbox.className = 'conflict-box';
  var ch3 = document.createElement('h3');
  ch3.textContent = '\u26A0\uFE0F ' + conflictDates.length + ' giorni con piu categorie in campo contemporaneamente';
  cbox.appendChild(ch3);
  var ul = document.createElement('ul');
  conflictDates.forEach(function(d) {
    var li = document.createElement('li');
    li.innerHTML = '<strong>' + fmtDate(d) + '</strong> \u2192 ' + getConflicts(d).join(' + ');
    ul.appendChild(li);
  });
  cbox.appendChild(ul);
  confSec.appendChild(cbox);
}

// TIMELINE
var timeline = document.getElementById('timeline');
var currentMonth = '';

sortedDates.forEach(function(date) {
  var month = fmtMonth(date);
  if (month !== currentMonth) {
    currentMonth = month;
    var mg = document.createElement('div');
    mg.className = 'month-group';
    var ml = document.createElement('div');
    ml.className = 'month-label';
    ml.textContent = month;
    mg.appendChild(ml);
    timeline.appendChild(mg);
  }

  var conflicts = getConflicts(date);
  var isConflict = conflicts.length > 0;

  var block = document.createElement('div');
  block.className = 'day-block' + (isConflict ? ' conflict' : '');

  var header = document.createElement('div');
  header.className = 'day-header';

  var dateSpan = document.createElement('span');
  dateSpan.className = 'day-date';
  dateSpan.textContent = '\uD83D\uDCC5 ' + fmtDate(date);
  header.appendChild(dateSpan);

  if (isConflict) {
    var ctag = document.createElement('span');
    ctag.className = 'conflict-tag';
    ctag.textContent = '\u26A0 ' + conflicts.join(' + ');
    header.appendChild(ctag);
  }

  var locs = [];
  byDate[date].forEach(function(m){ if (m.loc && locs.indexOf(m.loc) === -1) locs.push(m.loc); });
  if (locs.length === 1) {
    var ltag = document.createElement('span');
    ltag.className = 'location-tag';
    ltag.textContent = '\uD83D\uDCCD ' + locs[0];
    header.appendChild(ltag);
  }

  block.appendChild(header);

  byDate[date].forEach(function(m) {
    var isHome = m.home === 'HP VALCHISONE';
    var row = document.createElement('div');
    row.className = 'match-row ' + (isHome ? 'home' : 'away');
    var locPart = (locs.length !== 1 && m.loc)
      ? '<span style="font-size:0.72rem;color:#718096;"> \uD83D\uDCCD' + m.loc + '</span>'
      : '';
    row.innerHTML =
      '<span class="match-cat badge ' + CAT[m.cat] + '">' + m.cat + '</span>' +
      '<span class="match-teams">' +
        (isHome ? '<b>' + m.home + '</b>' : m.home) +
        '<span class="vs"> vs </span>' +
        (!isHome ? '<b>' + m.away + '</b>' : m.away) +
      '</span>' +
      locPart +
      (m.time ? '<span class="match-time">\uD83D\uDD50 ' + m.time + '</span>' : '') +
      '<span class="type-pill ' + (isHome ? 'type-home' : 'type-away') + '">' +
        (isHome ? '\uD83C\uDFE0 Casa' : '\u2708\uFE0F Trasferta') +
      '</span>';
    block.appendChild(row);
  });

  timeline.lastChild.appendChild(block);
});
</script>
</body>
</html>
